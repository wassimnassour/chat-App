(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{146:function(t,n,e){t.exports=e(235)},233:function(t,n,e){},234:function(t,n,e){},235:function(t,n,e){"use strict";e.r(n);var a=e(0),r=e.n(a),c=e(138),i=e.n(c),o=e(39),u=e(10),l=e(5),s=e.n(l),d=e(16),p=e(9),f=e(38),m=e(70),h=e.n(m);e(190),e(192);h.a.initializeApp({apiKey:"AIzaSyA07sf8pk82B8GOqC4j3cEwWAwncJpkF2U",authDomain:"chat-app-7f5ca.firebaseapp.com",databaseURL:"https://chat-app-7f5ca.firebaseio.com",projectId:"chat-app-7f5ca",storageBucket:"chat-app-7f5ca.appspot.com",messagingSenderId:"385627342549",appId:"1:385627342549:web:294c1ebc1c193e2945c45c",measurementId:"G-JW1D4EVD50"});var b=h.a.firestore(),g=h.a.auth(),x=e(6),v=e(7);function w(){var t=Object(x.a)(["\n  margin: 12px 0;\n  display: flex;\n  flex-direction: column;\n  label {\n    margin: 7px 0 3px;\n  }\n  input {\n    outline: none;\n    height: 29px;\n    font-size: 16px;\n    padding: 3px;\n  }\n"]);return w=function(){return t},t}function E(){var t=Object(x.a)(["\n  width: 350px;\n  height: auto;\n  box-shadow: 0 0 2px 0 #6f6f6fcc;\n  padding: 2rem;\n\n  h1 {\n    font-size: 24px;\n    text-align: center;\n  }\n  form {\n    margin: 44px 0 20px;\n  }\n  button {\n    background: #0f4c75;\n    border: none;\n    width: 100%;\n    margin: 0 auto;\n    color: white;\n    font-size: 20px;\n    padding: 10px;\n    display: flex;\n    justify-content: center;\n    border-radius: 5px;\n  }\n  span {\n    margin: 23px 0 10px;\n    display: block;\n    a {\n      text-decoration: none;\n      color: #122850;\n      font-weight: bold;\n    }\n  }\n  .danger {\n    color: red;\n    text-align: center;\n  }\n"]);return E=function(){return t},t}function j(){var t=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100vh;\n"]);return j=function(){return t},t}var y=v.b.main(j()),O=v.b.div(E()),k=v.b.div(w()),C=function(t){var n=t.history,e=Object(a.useState)(""),c=Object(p.a)(e,2),i=c[0],u=c[1],l=Object(a.useState)(""),m=Object(p.a)(l,2),h=m[0],x=m[1],v=Object(a.useState)(""),w=Object(p.a)(v,2),E=w[0],j=w[1],C=Object(a.useState)(""),S=Object(p.a)(C,2),F=S[0],N=S[1],B=Object(a.useState)(!0),I=Object(p.a)(B,2),z=I[0],A=I[1];Object(a.useEffect)((function(){g.onAuthStateChanged(function(){var t=Object(d.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e?n.push("/dashboard"):A(!1);case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())}),[]);return r.a.createElement(r.a.Fragment,null,z?r.a.createElement(f.BoxLoading,{CircleToBlockLoading:!0,color:"#0f4c75"}):r.a.createElement(y,null,r.a.createElement(O,null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",null,F?r.a.createElement("div",null,r.a.createElement("span",{className:"danger"},F)):null,r.a.createElement(k,null,r.a.createElement("label",null,"FullName:"),r.a.createElement("input",{type:"text",value:h,onChange:function(t){return x(t.target.value)},required:!0})),r.a.createElement(k,null,r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"email",value:i,onChange:function(t){return u(t.target.value)},required:!0})),r.a.createElement(k,null,r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",value:E,onChange:function(t){return j(t.target.value)},required:!0}))),r.a.createElement("button",{type:"submit",onClick:function(t){return function(t){t.preventDefault(),i.length>0&&E.length>0&&h.length>0?(A(!0),g.createUserWithEmailAndPassword(i,E).then((function(t){var e={userid:t.user.uid,email:i,password:E,fullName:h};b.collection("users").doc(i).set(e).then((function(){n.push("/dashboard"),A(!1)})).catch((function(t){N(t.message),A(!1)}))})).catch((function(t){N(t.message),A(!1)}))):N("something went wrong ")}(t)}},"Sign Up"),r.a.createElement("span",null,"if you have account ",r.a.createElement(o.b,{to:"/signin"},"Sign In")))))},S=function(t){var n=t.history,e=Object(a.useState)(""),c=Object(p.a)(e,2),i=c[0],u=c[1],l=Object(a.useState)(""),m=Object(p.a)(l,2),h=m[0],b=m[1],x=Object(a.useState)(""),v=Object(p.a)(x,2),w=v[0],E=v[1],j=Object(a.useState)(!0),C=Object(p.a)(j,2),S=C[0],F=C[1];Object(a.useEffect)((function(){g.onAuthStateChanged(function(){var t=Object(d.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e?n.push("/dashboard"):F(!1);case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())}),[n]);return r.a.createElement(y,null,S?r.a.createElement(f.BoxLoading,{CircleToBlockLoading:!0,color:"#0f4c75"}):r.a.createElement(O,null,r.a.createElement("h1",null,"Sign In"),r.a.createElement("form",null,w?r.a.createElement("div",null,r.a.createElement("span",{className:"danger"},w)):null,r.a.createElement(k,null,r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"email",value:i,onChange:function(t){return u(t.target.value)},required:!0})),r.a.createElement(k,null,r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",value:h,onChange:function(t){return b(t.target.value)},required:!0}))),r.a.createElement("button",{type:"submit",onClick:function(){i.length>0&&h.length>0?(F(!0),g.signInWithEmailAndPassword(i,h).then((function(){n.push("/dashboard")})).catch((function(t){F(!1),E(t.message)}))):(F(!1),E("something went wrong "))}},"Sign In"),r.a.createElement("span",null,"if you have don't have account ",r.a.createElement(o.b,{to:"/signup"},"Sign Up"))))};function F(){var t=Object(x.a)(["\n\tbackground: #fff;\n\twidth: 78%;\n\theight: 78%;\n\tborder-radius: 16px;\n\tmax-width: 1100px;\n\tbox-shadow: 0 0 15px 1px #6464646e;\n\tdisplay: flex;\n\toverflow: hidden;\n\tposition: relative;\n\n\t@media (max-width: 1000px) {\n\t\twidth: 90%;\n\t}\n\t@media (max-width: 700px) {\n\t\twidth: 95%;\n\t\tborder-radius: 8px;\n\t}\n\t@media (max-width: 550px) {\n\t\twidth: 100%;\n\t\tmargin: 6px;\n\t\tborder-radius: 0;\n\t} ;\n"]);return F=function(){return t},t}function N(){var t=Object(x.a)(["\n\twidth: 70%;\n\tposition: relative;\n\n\t@media (min-width: 650px) and (max-width: 800px) {\n\t\twidth: 64%;\n\t}\n\t@media (max-width: 650px) {\n\t\t",";\n\t}\n"]);return N=function(){return t},t}function B(){var t=Object(x.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\theight: 100vh;\n\tbackground: #eeeeeea6;\n"]);return B=function(){return t},t}var I=v.b.main(B()),z=v.b.div(N(),(function(t){return null!==t.selectedChatIndex?{width:"100%"}:{display:"none"}})),A=v.b.div(F()),T=e(194),L=function(t){var n=t.history,e=Object(a.useState)(null),c=Object(p.a)(e,2),i=c[0],o=c[1],u=Object(a.useState)(!0),l=Object(p.a)(u,2),m=l[0],h=l[1],x=Object(a.useState)([]),v=Object(p.a)(x,2),w=v[0],E=v[1],j=Object(a.useState)(null),y=Object(p.a)(j,2),O=y[0],k=y[1],C=Object(a.useState)(null),S=Object(p.a)(C,2),F=S[0],N=S[1];Object(a.useEffect)((function(){g.onAuthStateChanged(function(){var t=Object(d.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=4;break}n.push("/signin"),t.next=6;break;case 4:return t.next=6,b.collection("chats").where("users","array-contains",e.email).onSnapshot(function(){var t=Object(d.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.docs.map((function(t){return t.data()}));case 2:a=t.sent,o(e.email),E(a);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}());case 6:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}());var t=window.matchMedia("(max-width: 650px)");function e(t){t.matches?(N(!0),h(!1)):(N(!1),h(!0))}return t.addEventListener("change",e),e(t),function(){t.removeEventListener("change",e)}}),[n]);var B=function(){var t=Object(d.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(n);case 2:return h(!1),t.next=5,q(n);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),L=function(t){return[i,t].sort().join(":")},q=function(t){var n=L(w[t].users.filter((function(t){return t!==i}))[0]);w[t].messages[w[t].messages.length-1].sender!==i&&b.collection("chats").doc(n).update({reciverHasRead:!0})},M=function(t,n){var e=L(w[n].users.filter((function(t){return t!==i}))[0]);t.length>0&&b.collection("chats").doc(e).update({messages:T.firestore.FieldValue.arrayUnion({sender:i,message:t,timestamp:Date.now()}),reciverHasRead:!1})},U=function(){var t=Object(d.a)(s.a.mark((function t(n,e){var a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.split(":"),r=w.find((function(t){return a.every((function(n){return t.users.includes(n)}))})),h(!1),t.next=5,k(w.indexOf(r));case 5:return t.next=7,M(e,w.indexOf(r));case 7:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),D=function(){var t=Object(d.a)(s.a.mark((function t(n){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=L(n.sendTo),t.next=3,b.collection("chats").doc(e).set({messages:[{sender:i,message:n.msg}],users:[i,n.sendTo],reciverHasRead:!1});case 3:h(!m),w.length>0&&k(w.length-1);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,i?r.a.createElement(I,null,r.a.createElement(A,null,m&&F?null:r.a.createElement(X,{newChatBtnFn:function(){h(!m)},SelectedChatFn:B,chats:w,userEmail:i,selectedChatIndex:O}),m?null:r.a.createElement(z,{selectedChatIndex:O},r.a.createElement(ct,{userEmail:i,selectedChat:O,chat:w,SetConversitionOpenFn:function(){k(null)}}),null!==O?r.a.createElement(ut,{msgSubmitFn:M,MessageReadFn:q,selectedChat:O}):null),m?r.a.createElement(ft,{toggelNewMessageComponentFn:function(){h(!1)},submitNewChatFn:D,goToChatFn:U,newChatFormVisible:m}):null)):r.a.createElement(f.BoxLoading,{CircleToBlockLoading:!0,color:"#0f4c75"}))},q=e(144),M=e(30);function U(){var t=Object(x.a)(["\n\t","\n\tborder-bottom:1px solid gray;\n"]);return U=function(){return t},t}function D(){var t=Object(x.a)(["\n\t","\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n\tborder-top: 1px solid gray;\n\tbackground: #0f4c75;\n\tz-index: 12;\n"]);return D=function(){return t},t}function R(){var t=Object(x.a)(["\n\tborder: none;\n\tcolor: white;\n\tfont-weight: Bold;\n\twidth: 100%;\n\tletter-spacing: 1px;\n\tdisplay: flex;\n\theight: 50px;\n\tjustify-content: center;\n\talign-items: center;\n\tbackground: transparent;\n"]);return R=function(){return t},t}function V(){var t=Object(x.a)(["\n\toverflow-y: auto;\n\toverflow-x: hidden;\n"]);return V=function(){return t},t}function H(){var t=Object(x.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder-bottom: 1px solid #fffbfb17;\n\tpadding: 12px 0px 12px 5px;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\talign-items: center;\n\t","}\n\t.contact {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\twidth: 88%;\n\n\t\t.user {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tfont-weight: bold;\n\t\t\t.Name {\n\t\t\t\tfont-weight: bold;\n\t\t\t\tmargin: 4px 0;\n\t\t\t\tcolor: white;\n\t\t\t\t    word-break: break-word;\n\t\t\t}\n\t\t\t.last_message {\n\t\t\t\tfont-weight: 400;\n\n\t\t\t\tcolor: #d1d8d8;\n\t\t\t}\n\t\t}\n\t\t.avatar {\n\t\t\theight: 60px;\n\t\t\tmargin-right: 12px;\n\t\t}\n\t}\n\t.Notifications {\n\t\tcolor: red;\n\t\tfont-size: 25px;\n\t\tpadding: 0 6px 0;\n\t}\n"]);return H=function(){return t},t}function J(){var t=Object(x.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 40%;\n\tposition: relative;\n\tborder-right: 1px solid #62626233;\n\tbackground: #0f4c75;\n\n\t@media (max-width: 800px) {\n\t\twidth: 43%;\n\t}\n\t@media (max-width: 650px) {\n\t\t","\n\t}\n"]);return J=function(){return t},t}var P=v.b.div(J(),(function(t){return null!==t.selectedChatIndex?{display:"none"}:{width:"100%"}})),W=v.b.li(H(),(function(t){return t.selected&&{background:"#156296cf"}})),Y=v.b.div(V()),G=Object(v.a)(R()),K=v.b.button(D(),G),_=v.b.button(U(),G),X=function(t){var n=t.newChatBtnFn,e=t.SelectedChatFn,a=t.chats,c=t.userEmail,i=t.selectedChatIndex;return r.a.createElement(P,{selectedChatIndex:i},a?r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{onClick:n},"New chat ",r.a.createElement(M.a,null)),r.a.createElement(Y,null,a.map((function(t,n){return r.a.createElement(W,{selected:i===n,key:n,onClick:function(){e(n)}},r.a.createElement("div",{className:"contact"},r.a.createElement(q.a,{name:t.users.filter((function(t){return t!==c}))[0],size:"45",round:!0,className:"avatar"}),r.a.createElement("div",{className:"user"},r.a.createElement("span",{className:"Name"},t.users.filter((function(t){return t!==c}))[0]),r.a.createElement("span",{className:"last_message"},t.messages[t.messages.length-1].message.substring(0,25)+"...."))),r.a.createElement("span",null,function(t){return t.messages[t.messages.length-1].sender!==c}(t)&&!1===t.reciverHasRead?r.a.createElement(M.c,{className:"Notifications"}):null))})))):r.a.createElement(_,{onClick:n},"New chate"),r.a.createElement(K,{onClick:function(){return g.signOut()},className:"signOut"},"Sign out"))};function Q(){var t=Object(x.a)(["\n\t&.friend {\n\t\tdisplay: flex;\n\n\t\tjustify-content: flex-end;\n\t\tmargin-right: 35px;\n\t\tspan {\n\t\t\tbackground: #0f4c75;\n\t\t}\n\t}\n\t&.sender {\n\t\tmargin-left: 35px;\n\t\tspan {\n\t\t\tbackground: #a9a6a6;\n\t\t}\n\t}\n\tspan {\n\t\tbackground: #3d5bf9;\n\t\tdisplay: inline-block;\n\t\tpadding: 8px;\n\t\tcolor: white;\n\t\tborder-radius: 6px;\n\t\tmargin: 10px 0;\n\t\tmax-width: 50%;\n\t}\n"]);return Q=function(){return t},t}function Z(){var t=Object(x.a)(["\n\tmargin: 1rem 0;\n\toverflow-y: scroll;\n\theight: 80%;\n\toverflow-x: hidden;\n"]);return Z=function(){return t},t}function $(){var t=Object(x.a)(["\n\twidth: 100%;\n\tfont-size: 15px;\n\n\tfont-weight: Bold;\n\tfont-weight: 500;\n\tletter-spacing: 1px;\n\theight: 50px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tbox-shadow: 0 0 2px grey;\n\tcolor: black;\n\t/*display: flex;\n\tjustify-content: space-between;\n\talign-items: center;*/\n\tpadding: 0 8px;\n\tbutton {\n\t\tdisplay: none;\n\t}\n\t@media (max-width: 650px) {\n\t\tbutton {\n\t\t\tborder: none;\n\t\t\tbackground: transparent;\n\t\t\tcolor: #0f4c75;\n\t\t\tfont-size: 19px;\n\t\t\tdisplay: flex;\n\t\t\tposition: absolute;\n\t\t\tleft: 4%;\n\t\t}\n\t}\n"]);return $=function(){return t},t}function tt(){var t=Object(x.a)(["\n\twidth: 100%;\n\n\theight: 100%;\n"]);return tt=function(){return t},t}var nt=v.b.div(tt()),et=v.b.div($()),at=v.b.div(Z()),rt=v.b.div(Q()),ct=function(t){var n=t.chat,e=t.userEmail,c=t.selectedChat,i=t.SetConversitionOpenFn;return Object(a.useEffect)((function(){var t=document.getElementById("chatview-container");t&&t.scrollTo(0,t.scrollHeight)}),[n,c]),r.a.createElement(r.a.Fragment,null,null!==c?r.a.createElement(nt,{selectedChat:c},r.a.createElement(et,null,r.a.createElement("button",{onClick:function(){return i()}},r.a.createElement(M.b,null)),r.a.createElement("span",null,n[c].users.filter((function(t){return t!==e}))[0])),r.a.createElement(at,{id:"chatview-container"},n[c].messages.map((function(t,n){return r.a.createElement(rt,{className:t.sender===e?"sender":"friend",key:n},r.a.createElement("span",null,t.message))})))):null)};function it(){var t=Object(x.a)(["\n\tposition: absolute;\n\tbottom: 0;\n\twidth: 85%;\n\tdisplay: flex;\n\ttransform: translateX(-50%);\n\tleft: 50%;\n\n\tborder-radius: 20px;\n\tborder: 1px solid #0f4c75;\n\tmargin-bottom: 6px;\n\talign-items: center;\n\tpadding: 1px;\n\tjustify-content: space-between;\n\tinput {\n\t\t/*\t\tflex-basis: 95%;\n*/\n\t\tpadding: 0 6px;\n\t\theight: 38px;\n\t\tborder-radius: 20px;\n\t\tpadding: 0 1rem;\n\t\tborder: none;\n\t\toutline: none;\n\t}\n\tbutton {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\t/*\t\tflex-basis: 5%;\n/*\n\tborder-radius: 20px;\n*/\n\t\t/*\t\tpadding: 0 1rem;\n*/\n\t\tborder: none;\n\n\t\tfont-size: 22px;\n\t\tbackground: transparent;\n\t\tcolor: #0f4c75;\n\t\toutline: none;\n\t}\n\t@media (max-width: 650px) {\n\t\twidth: 91%;\n\t}\n"]);return it=function(){return t},t}var ot=v.b.div(it()),ut=function(t){var n=t.msgSubmitFn,e=t.MessageReadFn,c=t.selectedChat,i=Object(a.useState)(""),o=Object(p.a)(i,2),u=o[0],l=o[1],s=function(t,e){n(t,e),l("")};return r.a.createElement(ot,null,r.a.createElement("input",{type:"text",placeholder:"Type Your message ",value:u,onChange:function(t){l(t.target.value)},onClick:function(){return e(c)},onKeyDown:function(t){return 13===t.keyCode&&s(u,c)}}),r.a.createElement("button",{onClick:function(t){s(u,c)}},r.a.createElement(M.d,null)))};function lt(){var t=Object(x.a)(["\n\tbackground: #0f4c75;\n\tborder: none;\n\tcolor: white;\n\tfont-weight: Bold;\n\twidth: 100%;\n\tletter-spacing: 1px;\n\tdisplay: flex;\n\theight: 50px;\n\tjustify-content: center;\n\talign-items: center;\n\tborder-radius: 6px;\n\tfont-size: 17px;\n\tmargin-top: 15px;\n"]);return lt=function(){return t},t}function st(){var t=Object(x.a)(["\n\twidth: 55%;\n\tmargin: 0 auto;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\t.backButton {\n\t\tdisplay: none;\n\t}\n\t.danger {\n\t\tcolor: red;\n\t\ttext-align: center;\n\t}\n\th2 {\n\t\ttext-align: center;\n\t}\n\tform {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\twidth: 71%;\n\t\tmargin: 0 auto;\n\t\tmargin-top: 9px;\n\t\tlabel {\n\t\t\tmargin: 4px 0 7px;\n\t\t}\n\t\tinput {\n\t\t\tmargin: 4px 0 7px;\n\t\t\theight: 31px;\n\t\t\toutline: none;\n\t\t\tpadding: 4px;\n\t\t}\n\t\ttextarea {\n\t\t\tresize: none;\n\t\t\tmin-height: 106px;\n\t\t\toverflow: auto;\n\t\t\tpadding: 6px;\n\t\t\toutline: none;\n\t\t}\n\t}\n\n\t@media (max-width: 650px) {\n\t\t","\n\t\twidth: 100%;\n\t\tform {\n\t\t\twidth: 80%;\n\t\t}\n\t\t.backButton {\n\t\t\tborder: none;\n\t\t\tbackground: transparent;\n\t\t\tcolor: #0f4c75;\n\t\t\tfont-size: 30px;\n\t\t\tdisplay: flex;\n\t\t\tposition: absolute;\n\t\t\tleft: 4%;\n\t\t\ttop: 4%;\n\t\t}\n\t}\n"]);return st=function(){return t},t}var dt=v.b.main(st(),(function(t){return t.newChatFormVisible?{width:"100%"}:{width:"60%"}})),pt=v.b.button(lt()),ft=function(t){var n=t.submitNewChatFn,e=t.goToChatFn,c=t.newChatFormVisible,i=t.toggelNewMessageComponentFn,o=Object(a.useState)(""),u=Object(p.a)(o,2),l=u[0],f=u[1],m=Object(a.useState)(""),h=Object(p.a)(m,2),x=h[0],v=h[1],w=Object(a.useState)(null),E=Object(p.a)(w,2),j=E[0],y=E[1];console.log(j);var O=function(){return[g.currentUser.email,l].sort().join(":")},k=function(){var t=Object(d.a)(s.a.mark((function t(){var n,e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.collection("users").get();case 2:return n=t.sent,t.next=5,n.docs.map((function(t){return t.data().email})).includes(l);case 5:return e=t.sent,t.abrupt("return",e);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),C=function(){var t=Object(d.a)(s.a.mark((function t(){var n,e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=O(),t.next=3,b.collection("chats").doc(n).get();case 3:return e=t.sent,t.abrupt("return",e.exists);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=Object(d.a)(s.a.mark((function t(a){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r=O(),t.next=4,k();case 4:if(!t.sent){t.next=12;break}return t.next=8,C();case 8:t.sent?e(r,x):n({sendTo:l,msg:x}),t.next=13;break;case 12:y("Account does not exist");case 13:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return console.log(c),r.a.createElement(dt,{newChatFormVisible:c},r.a.createElement("button",{onClick:function(){return i()},className:"backButton"},r.a.createElement(M.b,null)),r.a.createElement("h2",null,"Send A Message!"),j?r.a.createElement("span",{className:"danger"},j):null,r.a.createElement("form",{onSubmit:S},r.a.createElement("label",{htmlFor:"new-chat-username"},"Enter Your Friend's Email"),r.a.createElement("input",{required:!0,id:"new-chat-username",onChange:function(t){return f(t.target.value)}}),r.a.createElement("label",{htmlFor:"new-chat-username"},"Enter Your Message"),r.a.createElement("textarea",{required:!0,id:"new-chat-message",onChange:function(t){v(t.target.value),y(null)}}),r.a.createElement(pt,{type:"submit",onClick:function(){return S}},"Send")))};e(233),e(234);var mt=function(t){var n=t.history;return Object(a.useEffect)((function(){g.onAuthStateChanged(function(){var t=Object(d.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e?n.push("/dashboard"):n.push("/signin");case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())}),[n]),r.a.createElement(r.a.Fragment,null)};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,null,r.a.createElement(u.a,{path:"/",component:mt}),r.a.createElement(u.a,{path:"/signup",component:C}),r.a.createElement(u.a,{path:"/signin",component:S}),r.a.createElement(u.a,{path:"/dashboard",component:L}))),document.getElementById("root"))}},[[146,1,2]]]);
//# sourceMappingURL=main.26af375a.chunk.js.map